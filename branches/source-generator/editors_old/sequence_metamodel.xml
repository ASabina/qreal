<?xml version="1.0" encoding="utf-8"?>
<metamodel xmlns="http://schema.real.com/schema/">
  <include>basicbehaviors_metamodel</include>
  <include>kernel_metamodel</include>
  <namespace>UML 2.1</namespace>
  <diagram name="SEQUENCE DIAGRAM">
    <enumType name="CombinedFragmentKind" id="sqnCombinedFragmentKind">
      <enumValue>alt</enumValue>
      <enumValue>par</enumValue>
    </enumType>
    <node name="Interaction" id="sqnnInteraction">
      <graphics>
        <view>
          <svg_shape>
            <svg:svg width="100" xmlns:xlink="http://www.w3.org/1999/xlink" height="72" version="1.0">
              <svg:rect x="1" y="1" width="98" height="60" style="fill:white;stroke:black;stroke-width:2;" />
              <svg:text x="6" y="16" font-weight="bold" style="font-size:12pt;fill:#000000;">sd</svg:text>
            </svg:svg>
          </svg_shape>
          <repo_info>
            <html:html xmlns:html="http://www.w3.org/html/">
              <html:text_from_repo name="name"/>
            </html:html>
            <html:html xmlns:html="http://www.w3.org/html/">
              <html:line x1="1" y1="21" x2="41" y2="21" stroke="black" stroke-width="2" />
              <html:line x1="41" y1="21" x2="51" y2="11" stroke="black" stroke-width="2" />
              <html:line x1="51" y1="11" x2="51" y2="1" stroke="black" stroke-width="2" />
              <!--просто тут имя диаграммы, написанное рядом с sd может не влезть в отведенное место, а потому, надо уметь его растягивать-->
            </html:html>
          </repo_info>
        </view>
      </graphics>
      <logic>
        <generalizations>
          <generalization>
            <parent parent_id="bbnBehavior"></parent>
            <parent parent_id="sqnnInteractionFragment"></parent>
          </generalization>
        </generalizations>
        <properties>
          <property name="name" type="string"></property>
        </properties>
        <containers>
          <container>
            <contains idref="sqnnSLifeline"/>
            <contains idref="sqnMessage"/>
            <contains idref="sqnnOccurenceSpecification"/>
          </container>
        </containers>
      </logic>
    </node>
    <node name="SLifeline" id="sqnnSLifeline">
      <graphics>
        <view>
          <svg_shape>
            <svg:svg width="82" xmlns:xlink="http://www.w3.org/1999/xlink" height="102" version="1.0">
              <svg:rect x="1" y="1" width="80" height="25" style="fill:white;stroke:black;stroke-width:2;" />
              <svg:line x1="6" y1="21" x2="76" y2="21" stroke="black" stroke-width="2" />
              <svg:text x="9" y="16" style="font-size:12pt;fill:#000000;">:</svg:text>
              <svg:line x1="41" y1="26" x2="41" y2="41" stroke="black" stroke-width="2" />
              <svg:line x1="41" y1="51" x2="41" y2="66" stroke="black" stroke-width="2" />
              <svg:line x1="41" y1="76" x2="41" y2="91" stroke="black" stroke-width="2" />
            </svg:svg>
          </svg_shape>
          <repo_info>
            <html:html xmlns:html="http://www.w3.org/html/">
              <html:b>
                <html:text_from_repo name="name"/>
              </html:b>
            </html:html>
          </repo_info>
          <ports>
            <line_port>
              <start startx="1" starty="1"/>
              <end endx="89" endy="1"/>
            </line_port>
            <line_port>
              <start startx="89" starty="1"/>
              <end endx="89" endy="26"/>
            </line_port>
            <line_port>
              <start startx="89" starty="26"/>
              <end endx="1" endy="26"/>
            </line_port>
            <line_port>
              <start startx="1" starty="26"/>
              <end endx="1" endy="1"/>
            </line_port>
            <line_port>
              <start startx="41" starty="26"/>
              <end endx="41" endy="91"/>
            </line_port>
          </ports>
        </view>
      </graphics>
      <logic>
        <generalizations>
          <generalization>
            <parent parent_id="krnnNamedElement"></parent>
          </generalization>
        </generalizations>
        <containers>
          <container>
            <contained_by idref="sqnnInteraction"/>
            <contained_by idref="sqnnCombinedFragment"/>
            <contained_by idref="sqnnInteractionFragment"/>
          </container>
        </containers>
        <properties>
          <property name="name" type="string"></property>
        </properties>
      </logic>
    </node>
    <node name="InteractionUse" id="sqnnInteractionUse">
      <graphics>
        <view>
          <svg_shape>
            <svg:svg width="100" xmlns:xlink="http://www.w3.org/1999/xlink" height="72" version="1.0">
              <svg:rect x="1" y="1" width="98" height="60" style="fill:white;stroke:black;stroke-width:2;" />
              <svg:line x1="1" y1="21" x2="41" y2="21" stroke="black" stroke-width="2" />
              <svg:line x1="41" y1="21" x2="51" y2="11" stroke="black" stroke-width="2" />
              <svg:line x1="51" y1="11" x2="51" y2="1" stroke="black" stroke-width="2" />
              <svg:text x="6" y="16" font-weight="bold" style="font-size:12pt;fill:#000000;">ref</svg:text>
            </svg:svg>
          </svg_shape>
          <repo_info>
            <html:html xmlns:html="http://www.w3.org/html/">
              <html:text_from_repo name="name"/>
            </html:html>
          </repo_info>
        </view>
      </graphics>
      <logic>
        <generalizations>
          <generalization>
            <parent parent_id="sqnnInteractionFragment"></parent>
          </generalization>
        </generalizations>
        <properties>
          <property name="name" type="string"></property>
        </properties>
      </logic>
    </node>
    <node name="CombinedFragment" id="sqnnCombinedFragment">
      <graphics>
        <view>
          <svg_shape>
            <!--если par-->
            <svg:svg width="100" xmlns:xlink="http://www.w3.org/1999/xlink" height="100" version="1.0">
              <svg:rect x="1" y="1" width="98" height="88" style="fill:white;stroke:black;stroke-width:2;" />
              <svg:line x1="1" y1="21" x2="26" y2="21" stroke="black" stroke-width="2" />
              <svg:line x1="26" y1="21" x2="36" y2="11" stroke="black" stroke-width="2" />
              <svg:line x1="36" y1="11" x2="36" y2="1" stroke="black" stroke-width="2" />
              <svg:line x1="1" y1="46" x2="16" y2="46" stroke="black" stroke-width="2" />
              <svg:line x1="26" y1="46" x2="41" y2="46" stroke="black" stroke-width="2" />
              <svg:line x1="51" y1="46" x2="66" y2="46" stroke="black" stroke-width="2" />
              <svg:line x1="76" y1="46" x2="91" y2="46" stroke="black" stroke-width="2" />
              <svg:text x="6" y="16" font-weight="bold" style="font-size:12pt;fill:#000000;">par</svg:text>
            </svg:svg>
          </svg_shape>
          <svg_shape>
            <!--если alt-->
            <svg:svg width="100" xmlns:xlink="http://www.w3.org/1999/xlink" height="100" version="1.0">
              <svg:rect x="1" y="1" width="98" height="88" style="fill:white;stroke:black;stroke-width:2;" />
              <svg:line x1="1" y1="21" x2="26" y2="21" stroke="black" stroke-width="2" />
              <svg:line x1="26" y1="21" x2="36" y2="11" stroke="black" stroke-width="2" />
              <svg:line x1="36" y1="11" x2="36" y2="1" stroke="black" stroke-width="2" />
              <svg:line x1="1" y1="46" x2="16" y2="46" stroke="black" stroke-width="2" />
              <svg:line x1="26" y1="46" x2="41" y2="46" stroke="black" stroke-width="2" />
              <svg:line x1="51" y1="46" x2="66" y2="46" stroke="black" stroke-width="2" />
              <svg:line x1="76" y1="46" x2="91" y2="46" stroke="black" stroke-width="2" />
              <svg:text x="6" y="16" font-weight="bold" style="font-size:12pt;fill:#000000;">alt</svg:text>
              <svg:text x="5" y="60" font-weight="bold" style="font-size:12pt;fill:#000000;">[else]</svg:text>
            </svg:svg>
          </svg_shape>
          <repo_info>
            <html:html xmlns:html="http://www.w3.org/html/">
              <html:text_from_repo name="alternative"/>
            </html:html>
          </repo_info>
        </view>
      </graphics>
      <logic>
        <generalizations>
          <generalization>
            <parent parent_id="sqnnInteractionFragment"></parent>
          </generalization>
        </generalizations>
        <properties>
          <property name="kind" type="enum">
            <enum idref="sqnCombinedFragmentKind" />
          </property>
          <property name="alternative" type="string"></property>
          <!--оно есть только у alt-->
        </properties>
      </logic>
    </node>
    <node name="OccurrenceSpecification" id="sqnnOccurenceSpecification">
     <logic>
        <generalizations>
          <generalization>
            <parent parent_id="sqnnInteractionFragment"></parent>
          </generalization>
        </generalizations>
        <containers>
          <container>
            <contained_by idref="sqnnInteraction"/>
            <contained_by idref="sqnnExecutionSpecification" role="start"/>
            <contained_by idref="sqnnExecutionSpecification" role="finish"/>
          </container>
          <container>
            <contains idref="sqnnSLifeline"/>
          </container>
        </containers>
        <associations>
          <assoc_ref idref="sqnaMessage"/>
        </associations>
      </logic>
    </node>
    <edge name="Message" id="sqnMessage">
      <graphics>
        <view>
          <line_type type="solidLine" />
          <end_type type="arrow" />
              <!--стрелочка закрашенная-->
          <repo_info>
            <html:html xmlns:html="http://www.w3.org/html/">
              <html:b>
                <html:text_from_repo name="name"/>
              </html:b>
            </html:html>
          </repo_info>
        </view>
      </graphics>
      <logic>
        <generalizations>
          <generalization>
            <parent parent_id="krnnNamedElement"></parent>
          </generalization>
        </generalizations>
        <containers>
          <container>
            <contained_by idref="sqnnInteraction"/>
            <contained_by idref="sqnnCombinedFragment"/>
          </container>
        </containers>
        <associations>
          <association id="sqnaMessage" role="event" multiplicity="false">
            <begin idref="sqnnOccurenceSpecification"/>
          </association>
          <association id="sqnaMessage" role="event" multiplicity="false">
            <begin idref="sqnnOccurenceSpecification"/>
          </association>
        </associations>
        <properties>
          <property name="name" type="string"></property>
        </properties>
      </logic>
    </edge>
    <node name="InteractionFragment" id="sqnnInteractionFragment">
      <logic>
        <generalizations>
          <generalization>
            <parent parent_id="krnnNamedElement"></parent>
          </generalization>
        </generalizations>
        <containers>
          <container>
            <contains idref="sqnnSLifeline"></contains>
          </container>
        </containers>
      </logic>
    </node>
    <node name="ExecutionSpecification" id="sqnnExecutionSpecification">
      <graphics>
        <view>
          <svg_shape>
            <svg:svg width="17" xmlns:xlink="http://www.w3.org/1999/xlink" height="92" version="1.0">
              <svg:rect x="1" y="1" width="15" height="80" style="fill:white;stroke:black;stroke-width:2;" />
            </svg:svg>
          </svg_shape>
          <ports>
            <line_port>
              <start startx="1" starty="1"/>
              <end endx="1" endy="81"/>
            </line_port>
            <line_port>
              <start startx="16" starty="1"/>
              <end endx="16" endy="81"/>
            </line_port>
            <point_port x="8" y="1" />
            <point_port x="8" y="81" />
          </ports>
        </view>
      </graphics>
      <logic>
        <generalizations>
          <generalization>
            <parent parent_id="sqnnInteractionFragment"></parent>
          </generalization>
        </generalizations>
        <containers>
          <container>
            <contains idref="sqnnOccurenceSpecification" role="start" />
            <contains idref="sqnnOccurenceSpecification" role="finish" />
            <!--это должны быть одни и те же OccurenceSpecification-->
          </container>
        </containers>
      </logic>
    </node>
  </diagram>
</metamodel>
