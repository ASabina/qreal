<?xml version="1.0" encoding="utf-8" ?>
<metamodel xmlns="http://schema.real.com/schema/">
  <include>sequence_metamodel</include>
  <namespace>UML 2.1</namespace>
  <diagram name="QREAL PARALLEL DIAGRAM">
    <enumType name="ThreadNameType" id="qrThreadNameType">
      <enumValue>number</enumValue>
      <enumValue>string</enumValue>
      <!--Определенная строка = "other"-->
    </enumType>
    
    <node name="Thread" id="qrpnThread">
      <graphics>
        <view>
          <svg_shape>
            <svg:svg width="20" xmlns:xlink="http://www.w3.org/1999/xlink" height="100" version="1.0">
              <svg:line x1="10" y1="0" x2="10" y2="100" stroke="black" stroke-width="2" />
            </svg:svg>
          </svg_shape>
          <repo_info>
            <html:html xmlns:html="http://www.w3.org/html/">
              <html:text_from_repo name="threadName"/>
            </html:html>
          </repo_info>
        </view>
      </graphics>
      <logic>
        <properties>
          <property name="threadName" type="enum">
            <enum idref="qrThreadNameType" />
            <default></default>
          </property>
        </properties>
        <containers>
          <container name="thread port">
            <contains idref="qrpnPort" role="port"/>
          </container>
          <container name="threads barrier">
            <contains idref="qrpnBarrier" role="barrier" />
          </container>
        </containers>
      </logic>
    </node>

    <node name="Port" id="qrpnPort">
      <graphics>
        <view>
          <svg_shape>
            <svg:svg width="30" xmlns:xlink="http://www.w3.org/1999/xlink" height="50" version="1.0">
              <svg:rect x="1" y="1" width="28" style="stroke:#000000;fill:#f8f8f8;fill-opacity:0;" height="48"/>
            </svg:svg>
          </svg_shape>
          <ports>
            <line_port>
              <start startx="1" starty="1" />
              <end endx="29" endy="1" />
            </line_port>
            <line_port>
              <start startx="29" starty="1" />
              <end endx="29" endy="49" />
            </line_port>
            <line_port>
              <start startx="29" starty="49" />
              <end endx="1" endy="49" />
            </line_port>
            <line_port>
              <start startx="1" starty="49" />
              <end endx="1" endy="1" />
            </line_port>
          </ports>
        </view>
      </graphics>
      <logic>
        <associations>
          <assoc_ref idref="qrpaMessageBegin"/>
          <assoc_ref idref="qrpaMessageEnd"/>
          <assoc_ref idref="qrpaMessageToAll"/>
          <assoc_ref idref="qrpaMessageFromAll"/>
        </associations>
        <containers>
          <container name="thread port">
            <contained_by idref="qrpnThread" role="port"/>
          </container>
        </containers>
      </logic>
    </node>

    <node name="Barrier" id="qrpnBarrier">
      <graphics>
        <view>
          <svg_shape>
            <svg:svg width="60" xmlns:xlink="http://www.w3.org/1999/xlink" height="10" version="1.0">
              <svg:line x1="1" y1="1" x2="58" y2="1" stroke="black" stroke-width="2" />
              <svg:line x1="6" y1="1" x2="1" y2="6" stroke="black" stroke-width="2" />
              <svg:line x1="16" y1="1" x2="11" y2="6" stroke="black" stroke-width="2" />
              <svg:line x1="26" y1="1" x2="21" y2="6" stroke="black" stroke-width="2" />
              <svg:line x1="36" y1="1" x2="31" y2="6" stroke="black" stroke-width="2" />
              <svg:line x1="46" y1="1" x2="41" y2="6" stroke="black" stroke-width="2" />
              <svg:line x1="56" y1="1" x2="51" y2="6" stroke="black" stroke-width="2" />
            </svg:svg>
          </svg_shape>
        </view>
      </graphics>
      <logic>
        <containers>
          <container name="threads barrier">
            <contained_by idref="qrpnThread" role="barrier" />
          </container>
        </containers>
      </logic>
    </node>

    <!--
    <node name="CombinedFragment" id="qrpnCombinedFragment">
      <graphics>
        <view>
          <svg_shape>
            <svg:svg width="100" xmlns:xlink="http://www.w3.org/1999/xlink" height="100" version="1.0">
              <svg:rect x="1" y="1" width="98" height="88" style="fill:white;stroke:black;stroke-width:2;fill-opacity:0;" />
              <svg:line x1="1" y1="21" x2="26" y2="21" stroke="black" stroke-width="2" />
              <svg:line x1="26" y1="21" x2="36" y2="11" stroke="black" stroke-width="2" />
              <svg:line x1="36" y1="11" x2="36" y2="1" stroke="black" stroke-width="2" />
              <svg:line x1="1" y1="46" x2="16" y2="46" stroke="black" stroke-width="2" />
              <svg:line x1="26" y1="46" x2="41" y2="46" stroke="black" stroke-width="2" />
              <svg:line x1="51" y1="46" x2="66" y2="46" stroke="black" stroke-width="2" />
              <svg:line x1="76" y1="46" x2="91" y2="46" stroke="black" stroke-width="2" />
              <svg:text x="6" y="16" font-weight="bold" style="font-size:12pt;fill:#000000;">alt</svg:text>
              <svg:text x="5" y="60" font-weight="bold" style="font-size:12pt;fill:#000000;">[else]</svg:text>
            </svg:svg>
          </svg_shape>
          <repo_info>
            <html:html xmlns:html="http://www.w3.org/html/">
              <html:text_from_repo name="alternative"/>
            </html:html>
          </repo_info>
        </view>
      </graphics>
      <logic>
        <generalizations>
          <generalization>
            <parent parent_id="sqnnInteractionFragment"></parent>
          </generalization>
        </generalizations>
        <properties>
          <property name="alternative" type="string"></property>
        </properties>
      </logic>
    </node>
    -->

    <edge name="Message" id="qrMessage">
      <graphics>
        <view>
          <line_type type="solidLine" />
        </view>
      </graphics>
      <logic>
        <associations>
          <association id="qrpaMessageBegin" role="message" end_type="open_arrow">
            <begin idref="qrpnPort"/>
          </association>
          <association id="qrpaMessageEnd" role="message">
            <end idref="qrpnPort"/>
          </association>
        </associations>
      </logic>
    </edge>

    <edge name="MessageToAll" id="qrMessageToAll">
      <logic>
        <associations>
          <association id="qrpaMessageToAll" role="multiple message" end_type="complex_arrow">
            <begin idref="qrpnPort"/>
          </association>
        </associations>
      </logic>
    </edge>

    <edge name="MessageFromAll" id="qrMessageFromAll">
      <logic>
        <associations>
          <association id="qrpaMessageFromAll" role="multiple message" end_type="complex_arrow">
            <end idref="qrpnPort"/>
          </association>
        </associations>
      </logic>
    </edge>
  </diagram>
</metamodel>