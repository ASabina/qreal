<?xml version="1.0" encoding="utf-8"?>
<metamodel xmlns="http://schema.real.com/schema/">
    <namespace>UML 2.0</namespace>
    <diagram name="GeneratorEditor" nodeName="GeneratorRoot" displayedName="Generator Editor">
        <nonGraphicTypes>
            <enum name="languageType">
                <value>other</value>
                <value>behavioral</value>
                <value>structural</value>
            </enum>
        </nonGraphicTypes>
        <graphicTypes>
            <node name="GeneratorRoot" displayedName="Generator Root" description="Корневой элемент модели генератора">
                <graphics>
                    <picture sizex="30" sizey="30">
                        <ellipse fill="#ffffff" stroke-width="1" stroke="#000000" y1="0" y2="28" x1="0" x2="28" fill-style="solid" stroke-style="dot"/>
                        <ellipse fill="#00f000" stroke-width="1" stroke="#000000" y1="5" y2="23" x1="5" x2="23" fill-style="solid" stroke-style="solid"/>
                    </picture>
                    <labels/>
                    <ports/>
                    <nonResizeable/>
                </graphics>
                <logic>
                    <container>
                        <contains type="GeneratorDiagram"/>
                    </container>
                    <properties>
                        <property name="toGeneratePath" displayedName="Directory to generate" type="directorypath"/>
                        <property name="toQrealPath" displayedName="Path to QReal Source" type="directorypath"/>
                        <property name="languageType" displayedName="Language type" type="languageType">
                            <default>other</default>
                        </property>
						<property displayedName="Metamodel Name" type="string" name="metamodelName"/>
                        <property displayedName="Language Name" type="string" name="languageName"/>
						<property displayedName="toGeneratePath Property name" type="string" name="toGeneratePropertyName"/>
                        <property displayedName="programmeName Property name" type="string" name="programNamePropertyName"/>
                    </properties>
                    <explodesTo/>
                </logic>
            </node>
            <node name="GeneratorDiagram" displayedName="Generator Diagram" description="Элемент описания части генератора">
                <graphics>
                    <picture sizex="200" sizey="200">
                        <line stroke="#000000" y1="40" y2="160" x1="0" stroke-style="solid" x2="0" stroke-width="0" fill-style="none" fill="#000000"/>
                        <line stroke="#000000" y1="40" y2="160" x1="200" stroke-style="solid" x2="200" stroke-width="0" fill-style="none" fill="#000000"/>
                        <arc y1="0" y2="80" x1="0" x2="80" spanAngle="1440" startAngle="1440"/>
                        <arc y1="0" y2="80" x1="120" x2="200" spanAngle="1440" startAngle="0"/>
                        <arc y1="120" y2="200" x1="0" x2="80" spanAngle="1440" startAngle="2880"/>
                        <arc y1="120" y2="200" x1="120" x2="200" spanAngle="-1440" startAngle="0"/>
                    </picture>
                    <labels>
                        <label x="30" y="15" textBinded="name" hard="true"/>
                    </labels>
                    <ports>
                        <linePort type="NonTyped">
                            <start startx="0" starty="40"/>
                            <end endx="0" endy="160"/>
                        </linePort>
                        <linePort type="NonTyped">
                            <start startx="200" starty="40"/>
                            <end endx="200" endy="160"/>
                        </linePort>
                    </ports>
                </graphics>
                <logic>
                    <container>
                        <contains type="SemanticNode"/>
                        <contains type="ForeachNode"/>
                        <contains type="ConverterNode"/>
                    </container>
                    <explodesTo/>
                </logic>
            </node>
			<node name="ApplicationNode" displayedName="Application" description="Элемент для задания общего кода генерируемого приложения">
                <graphics>
                    <picture sizex="150" sizey="100">
                        <line stroke="#2f4f4f" y1="0" y2="100" x1="0" stroke-style="solid" x2="0" stroke-width="2" fill-style="solid" fill="#000000"/>
                        <line stroke="#2f4f4f" y1="0" y2="100" x1="150" stroke-style="solid" x2="150" stroke-width="2" fill-style="solid" fill="#000000"/>
                        <line stroke="#2f4f4f" y1="0" y2="0" x1="0" stroke-style="solid" x2="150" stroke-width="2" fill-style="solid" fill="#000000"/>
                        <line stroke="#2f4f4f" y1="100" y2="100" x1="0" stroke-style="solid" x2="150" stroke-width="2" fill-style="solid" fill="#000000"/>
                        <line stroke="#2f4f4f" y1="25a" y2="25a" x1="0a" stroke-style="solid" x2="150" stroke-width="2" fill-style="solid" fill="#000000"/>
                    </picture>
                    <labels>
                        <label x="5" y="3" text="Application" hard="true"/>
                    </labels>
                    <ports>
                        <linePort type="NonTyped">
                            <start startx="0" starty="10"/>
                            <end endx="0" endy="90"/>
                        </linePort>
                        <linePort type="NonTyped">
                            <start startx="150" starty="10"/>
                            <end endx="150" endy="90"/>
                        </linePort>
                        <linePort type="NonTyped">
                            <start startx="10" starty="0"/>
                            <end endx="140" endy="0"/>
                        </linePort>
                        <linePort type="NonTyped">
                            <start startx="10" starty="100"/>
                            <end endx="140" endy="100"/>
                        </linePort>
                    </ports>
                </graphics>
                <logic>
                    <container>
                        <contains type="TemplateNode"/>
                    </container>
                    <explodesTo/>
                </logic>
            </node>
			<node name="TemplateNode" displayedName="Template" description="Элемент для задания шаблона конкретного генерируемого кода">
                <graphics>
                    <picture sizex="150" sizey="100">
                        <line stroke="#2f4f4f" y1="0" y2="100" x1="0" stroke-style="solid" x2="0" stroke-width="2" fill-style="solid" fill="#000000"/>
                        <line stroke="#2f4f4f" y1="0" y2="100" x1="150" stroke-style="solid" x2="150" stroke-width="2" fill-style="solid" fill="#000000"/>
                        <line stroke="#2f4f4f" y1="0" y2="0" x1="0" stroke-style="solid" x2="150" stroke-width="2" fill-style="solid" fill="#000000"/>
                        <line stroke="#2f4f4f" y1="100" y2="100" x1="0" stroke-style="solid" x2="150" stroke-width="2" fill-style="solid" fill="#000000"/>
                        <line stroke="#2f4f4f" y1="25a" y2="25a" x1="0a" stroke-style="solid" x2="150" stroke-width="2" fill-style="solid" fill="#000000"/>
                    </picture>
                    <labels>
                        <label x="5" y="3" textBinded="Template  / ##markName##" hard="true"/>
                    </labels>
                    <ports>
                        <linePort type="NonTyped">
                            <start startx="0" starty="10"/>
                            <end endx="0" endy="90"/>
                        </linePort>
                        <linePort type="NonTyped">
                            <start startx="150" starty="10"/>
                            <end endx="150" endy="90"/>
                        </linePort>
                        <linePort type="NonTyped">
                            <start startx="10" starty="0"/>
                            <end endx="140" endy="0"/>
                        </linePort>
                        <linePort type="NonTyped">
                            <start startx="10" starty="100"/>
                            <end endx="140" endy="100"/>
                        </linePort>
                    </ports>
                </graphics>
                <logic>
                    <container/>
					<generalizations>
                        <parent parentName="AbstractElement"/>
                    </generalizations>
                    <properties>
                        <property name="textCode" displayedName="text code" type="code"/>
                    </properties>
                    <explodesTo/>
                </logic>
            </node>
            <node name="SemanticNode" displayedName="Semantic" description="Элемент для задания генерируемого кода">
                <graphics>
                    <picture sizex="150" sizey="100">
                        <line stroke="#2f4f4f" y1="0" y2="100" x1="0" stroke-style="solid" x2="0" stroke-width="2" fill-style="solid" fill="#000000"/>
                        <line stroke="#2f4f4f" y1="0" y2="100" x1="150" stroke-style="solid" x2="150" stroke-width="2" fill-style="solid" fill="#000000"/>
                        <line stroke="#2f4f4f" y1="0" y2="0" x1="0" stroke-style="solid" x2="150" stroke-width="2" fill-style="solid" fill="#000000"/>
                        <line stroke="#2f4f4f" y1="100" y2="100" x1="0" stroke-style="solid" x2="150" stroke-width="2" fill-style="solid" fill="#000000"/>
                        <line stroke="#2f4f4f" y1="25a" y2="25a" x1="0a" stroke-style="solid" x2="150" stroke-width="2" fill-style="solid" fill="#000000"/>
                    </picture>
                    <labels>
                        <label x="5" y="3" textBinded="Semantic / ##elementName##" hard="true"/>
                    </labels>
                    <ports>
                        <linePort type="NonTyped">
                            <start startx="0" starty="10"/>
                            <end endx="0" endy="90"/>
                        </linePort>
                        <linePort type="NonTyped">
                            <start startx="150" starty="10"/>
                            <end endx="150" endy="90"/>
                        </linePort>
                        <linePort type="NonTyped">
                            <start startx="10" starty="0"/>
                            <end endx="140" endy="0"/>
                        </linePort>
                        <linePort type="NonTyped">
                            <start startx="10" starty="100"/>
                            <end endx="140" endy="100"/>
                        </linePort>
                    </ports>
                </graphics>
                <logic>
                    <container>
                        <contains type="TemplateNode"/>
                    </container>
                    <properties>
                        <property name="elementName" displayedName="Name of Element" type="string"/>
                        <property name="textCode" displayedName="text code" type="code"/>
                    </properties>
                    <explodesTo/>
                </logic>
            </node>
            <node name="AbstractElement">
                <logic>
                    <container/>
                    <properties>
                        <property name="markName" displayedName="mark name" type="string"/>
                        <property name="fileName" displayedName="File name" type="string"/>
                    </properties>
                    <explodesTo/>
                </logic>
            </node>
            <node name="ForeachNode" displayedName="Foreach" description="Элемент позволяющий пройти по всем дочерним элементам">
                <graphics>
                    <picture sizex="150" sizey="100">
                        <line stroke="#2f4f4f" y1="0" y2="100" x1="0" stroke-style="solid" x2="0" stroke-width="2" fill-style="solid" fill="#000000"/>
                        <line stroke="#2f4f4f" y1="0" y2="100" x1="150" stroke-style="solid" x2="150" stroke-width="2" fill-style="solid" fill="#000000"/>
                        <line stroke="#2f4f4f" y1="0" y2="0" x1="0" stroke-style="solid" x2="150" stroke-width="2" fill-style="solid" fill="#000000"/>
                        <line stroke="#2f4f4f" y1="100" y2="100" x1="0" stroke-style="solid" x2="150" stroke-width="2" fill-style="solid" fill="#000000"/>
                        <line stroke="#2f4f4f" y1="25a" y2="25a" x1="0a" stroke-style="solid" x2="150" stroke-width="2" fill-style="solid" fill="#000000"/>
                    </picture>
                    <labels>
                        <label x="5" y="3" textBinded="Foreach / ##markName##" hard="true"/>
                    </labels>
                    <ports>
                        <linePort type="NonTyped">
                            <start startx="0" starty="10"/>
                            <end endx="0" endy="90"/>
                        </linePort>
                        <linePort type="NonTyped">
                            <start startx="150" starty="10"/>
                            <end endx="150" endy="90"/>
                        </linePort>
                        <linePort type="NonTyped">
                            <start startx="10" starty="0"/>
                            <end endx="140" endy="0"/>
                        </linePort>
                        <linePort type="NonTyped">
                            <start startx="10" starty="100"/>
                            <end endx="140" endy="100"/>
                        </linePort>
                    </ports>
                </graphics>
                <logic>
                    <container>
                        <contains type="SemanticNode"/>
                    </container>
                    <generalizations>
                        <parent parentName="AbstractElement"/>
                    </generalizations>
                    <explodesTo/>
                </logic>
            </node>
            <node name="ConverterNode" displayedName="Converter" description="Элемент, позволяющий описать новый конвертер данных">
                <graphics>
                    <picture sizex="155" sizey="100">
                        <line stroke="#2f4f4f" y1="0" y2="100" x1="0" stroke-style="solid" x2="0" stroke-width="2" fill-style="solid" fill="#000000"/>
                        <line stroke="#2f4f4f" y1="0" y2="100" x1="150" stroke-style="solid" x2="150" stroke-width="2" fill-style="solid" fill="#000000"/>
                        <line stroke="#2f4f4f" y1="0" y2="0" x1="0" stroke-style="solid" x2="150" stroke-width="2" fill-style="solid" fill="#000000"/>
                        <line stroke="#2f4f4f" y1="100" y2="100" x1="0" stroke-style="solid" x2="150" stroke-width="2" fill-style="solid" fill="#000000"/>
                        <line stroke="#2f4f4f" y1="25a" y2="25a" x1="0a" stroke-style="solid" x2="150" stroke-width="2" fill-style="solid" fill="#000000"/>
                    </picture>
                    <labels>
                        <label x="5" y="3" textBinded="Converter / ##markName##" hard="true"/>
                    </labels>
                    <ports>
                        <linePort type="NonTyped">
                            <start startx="0" starty="10"/>
                            <end endx="0" endy="90"/>
                        </linePort>
                        <linePort type="NonTyped">
                            <start startx="150" starty="10"/>
                            <end endx="150" endy="90"/>
                        </linePort>
                        <linePort type="NonTyped">
                            <start startx="10" starty="0"/>
                            <end endx="140" endy="0"/>
                        </linePort>
                        <linePort type="NonTyped">
                            <start startx="10" starty="100"/>
                            <end endx="140" endy="100"/>
                        </linePort>
                    </ports>
                </graphics>
                <logic>
                    <container>
                        <contains type="converterSemantic"/>
                        <contains type="converterRead"/>
                        <contains type="converterMerge"/>
                        <contains type="converterForeach"/>
                    </container>
                    <generalizations>
                        <parent parentName="AbstractElement"/>
                    </generalizations>
                    <explodesTo/>
                </logic>
            </node>
            <node name="converterSemantic" displayedName="Converter Semantic" description="Элемент, описывающий существующий конвертер">
                <graphics>
                    <picture sizex="150" sizey="100">
                        <line stroke="#2f4f4f" y1="0" y2="100" x1="0" stroke-style="solid" x2="0" stroke-width="2" fill-style="solid" fill="#000000"/>
                        <line stroke="#2f4f4f" y1="0" y2="100" x1="150" stroke-style="solid" x2="150" stroke-width="2" fill-style="solid" fill="#000000"/>
                        <line stroke="#2f4f4f" y1="0" y2="0" x1="0" stroke-style="solid" x2="150" stroke-width="2" fill-style="solid" fill="#000000"/>
                        <line stroke="#2f4f4f" y1="100" y2="100" x1="0" stroke-style="solid" x2="150" stroke-width="2" fill-style="solid" fill="#000000"/>
                        <line stroke="#2f4f4f" y1="25a" y2="25a" x1="0a" stroke-style="solid" x2="150" stroke-width="2" fill-style="solid" fill="#000000"/>
                    </picture>
                    <labels>
                        <label x="5" y="3" text="Converter Semantic" hard="true"/>
                    </labels>
                    <ports>
                        <linePort type="NonTyped">
                            <start startx="0" starty="10"/>
                            <end endx="0" endy="90"/>
                        </linePort>
                        <linePort type="NonTyped">
                            <start startx="150" starty="10"/>
                            <end endx="150" endy="90"/>
                        </linePort>
                        <linePort type="NonTyped">
                            <start startx="10" starty="0"/>
                            <end endx="140" endy="0"/>
                        </linePort>
                        <linePort type="NonTyped">
                            <start startx="10" starty="100"/>
                            <end endx="140" endy="100"/>
                        </linePort>
                    </ports>
                </graphics>
                <logic>
                    <container>
                        <contains type="TemplateNode"/>
                    </container>
                    <properties>
                        <property name="converterFileName" displayedName="converter file name" type="string"/>
                    </properties>
                    <explodesTo/>
                </logic>
            </node>
            <node name="converterForeach" displayedName="Converter Foreach" description="Элемент, позволяющий проходить по полученному списку элементов">
                <graphics>
                    <picture sizex="150" sizey="100">
                        <line stroke="#2f4f4f" y1="0" y2="100" x1="0" stroke-style="solid" x2="0" stroke-width="2" fill-style="solid" fill="#000000"/>
                        <line stroke="#2f4f4f" y1="0" y2="100" x1="150" stroke-style="solid" x2="150" stroke-width="2" fill-style="solid" fill="#000000"/>
                        <line stroke="#2f4f4f" y1="0" y2="0" x1="0" stroke-style="solid" x2="150" stroke-width="2" fill-style="solid" fill="#000000"/>
                        <line stroke="#2f4f4f" y1="100" y2="100" x1="0" stroke-style="solid" x2="150" stroke-width="2" fill-style="solid" fill="#000000"/>
                        <line stroke="#2f4f4f" y1="25a" y2="25a" x1="0a" stroke-style="solid" x2="150" stroke-width="2" fill-style="solid" fill="#000000"/>
                    </picture>
                    <labels>
                        <label x="5" y="3" text="Converter Foreach" hard="true"/>
                    </labels>
                    <ports>
                        <linePort type="NonTyped">
                            <start startx="0" starty="10"/>
                            <end endx="0" endy="90"/>
                        </linePort>
                        <linePort type="NonTyped">
                            <start startx="150" starty="10"/>
                            <end endx="150" endy="90"/>
                        </linePort>
                        <linePort type="NonTyped">
                            <start startx="10" starty="0"/>
                            <end endx="140" endy="0"/>
                        </linePort>
                        <linePort type="NonTyped">
                            <start startx="10" starty="100"/>
                            <end endx="140" endy="100"/>
                        </linePort>
                    </ports>
                </graphics>
                <logic>
                    <container>
                        <contains type="converterSemantic"/>
                    </container>
                    <explodesTo/>
                </logic>
            </node>
            <node name="converterMerge" displayedName="Merge" description="Элемент, позволяющий объединить список объектов в один">
                <graphics>
                    <picture sizex="150" sizey="100">
                        <line stroke="#2f4f4f" y1="0" y2="100" x1="0" stroke-style="solid" x2="0" stroke-width="2" fill-style="solid" fill="#000000"/>
                        <line stroke="#2f4f4f" y1="0" y2="100" x1="150" stroke-style="solid" x2="150" stroke-width="2" fill-style="solid" fill="#000000"/>
                        <line stroke="#2f4f4f" y1="0" y2="0" x1="0" stroke-style="solid" x2="150" stroke-width="2" fill-style="solid" fill="#000000"/>
                        <line stroke="#2f4f4f" y1="100" y2="100" x1="0" stroke-style="solid" x2="150" stroke-width="2" fill-style="solid" fill="#000000"/>
                        <line stroke="#2f4f4f" y1="25a" y2="25a" x1="0a" stroke-style="solid" x2="150" stroke-width="2" fill-style="solid" fill="#000000"/>
                    </picture>
                    <labels>
                        <label x="5" y="3" text="Merge" hard="true"/>
                    </labels>
                    <ports>
                        <linePort type="NonTyped">
                            <start startx="0" starty="10"/>
                            <end endx="0" endy="90"/>
                        </linePort>
                        <linePort type="NonTyped">
                            <start startx="150" starty="10"/>
                            <end endx="150" endy="90"/>
                        </linePort>
                        <linePort type="NonTyped">
                            <start startx="10" starty="0"/>
                            <end endx="140" endy="0"/>
                        </linePort>
                        <linePort type="NonTyped">
                            <start startx="10" starty="100"/>
                            <end endx="140" endy="100"/>
                        </linePort>
                    </ports>
                </graphics>
                <logic>
                    <container>
                        <contains type="TemplateNode"/>
                    </container>
                    <properties>
                        <property name="mergeFileName" displayedName="file name of special merger" type="string"/>
                    </properties>
                    <explodesTo/>
                </logic>
            </node>
            <node name="converterRead" displayedName="Read" description="Элемент, позволяющий читать из поля элмента языка">
                <graphics>
                    <picture sizex="150" sizey="100">
                        <line stroke="#2f4f4f" y1="0" y2="100" x1="0" stroke-style="solid" x2="0" stroke-width="2" fill-style="solid" fill="#000000"/>
                        <line stroke="#2f4f4f" y1="0" y2="100" x1="150" stroke-style="solid" x2="150" stroke-width="2" fill-style="solid" fill="#000000"/>
                        <line stroke="#2f4f4f" y1="0" y2="0" x1="0" stroke-style="solid" x2="150" stroke-width="2" fill-style="solid" fill="#000000"/>
                        <line stroke="#2f4f4f" y1="100" y2="100" x1="0" stroke-style="solid" x2="150" stroke-width="2" fill-style="solid" fill="#000000"/>
                        <line stroke="#2f4f4f" y1="25a" y2="25a" x1="0a" stroke-style="solid" x2="150" stroke-width="2" fill-style="solid" fill="#000000"/>
                    </picture>
                    <labels>
                        <label x="5" y="3" text="Read" hard="true"/>
                    </labels>
                    <ports>
                        <linePort type="NonTyped">
                            <start startx="0" starty="10"/>
                            <end endx="0" endy="90"/>
                        </linePort>
                        <linePort type="NonTyped">
                            <start startx="150" starty="10"/>
                            <end endx="150" endy="90"/>
                        </linePort>
                        <linePort type="NonTyped">
                            <start startx="10" starty="0"/>
                            <end endx="140" endy="0"/>
                        </linePort>
                        <linePort type="NonTyped">
                            <start startx="10" starty="100"/>
                            <end endx="140" endy="100"/>
                        </linePort>
                    </ports>
                </graphics>
                <logic>
                    <container/>
                    <properties>
                        <property name="propertyName" displayedName="property name" type="string"/>
                    </properties>
                    <explodesTo/>
                </logic>
            </node>
			<edge displayedName="To Edge" name="SimpleEdge">
                <graphics>
                    <lineType type="solidLine"/>
                    <shape type="square"/>
                </graphics>
                <logic>
                    <associations endType="open_arrow" beginType="no_arrow">
                        <association endName="endEdge" beginName="beginEdge"/>
                    </associations>
                    <fromPorts/>
                    <toPorts/>
                    <explodesTo/>
                </logic>
            </edge>
            <edge displayedName="Control Flow" name="ControlFlow">
                <graphics>
                    <lineType type="dashLine"/>
                    <shape type="square"/>
                    <labels>
                        <label text="to"/>
                    </labels>
                </graphics>
                <logic>
                    <associations endType="open_arrow" beginType="no_arrow">
                        <association endName="endFlow" beginName="beginFlow"/>
                    </associations>
                    <fromPorts/>
                    <toPorts/>
                    <explodesTo/>
                </logic>
            </edge>
        </graphicTypes>
		<palette>
			<group name="Root Diagrams" description="Корневые элементы">
				<element name="GeneratorRoot"/>
				<element name="GeneratorDiagram"/>
			</group>
			<group name="Basic Elements" description="Базовые элементы задания правил генерации">
				<element name="ApplicationNode"/>
				<element name="TemplateNode"/>
				<element name="SemanticNode"/>
				<element name="ForeachNode"/>
			</group>
			<group name="Elements for Converter" description="Сущности для задания новых конвертеров данных">
				<element name="ConverterNode"/>
				<element name="converterRead"/>
				<element name="converterSemantic"/>
				<element name="converterForeach"/>
				<element name="converterMerge"/>
			</group>
			<group name="Relationship" description="Связи для описания взаимоотношений между элементарными правилами генерации">
				<element name="SimpleEdge"/>
				<element name="ControlFlow"/>
			</group>
        </palette>
    </diagram>
</metamodel>
