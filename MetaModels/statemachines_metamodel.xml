<?xml version="1.0" encoding="utf-8" ?>
<metamodel xmlns="http://schema.real.com/schema/">
	<include>kernel_metamodel</include>
	<include>basicbehaviors_metamodel</include>
	<diagram name="STATE MACHINES DIAGRAM">
		<enumType id="smtTransitionkind" name="TransitionKind">
			<enumValue>internal</enumValue>
			<enumValue>local</enumValue>
			<enumValue>external</enumValue>
		</enumType>
		<node id="smnStateMachine" name="StateMachine">
			<graphics>
				<view>
					<svg_shape>
						<svg:svg contentScriptType="text/ecmascript" width="200" xmlns:xlink="http://www.w3.org/1999/xlink"
							zoomAndPan="magnify" contentStyleType="text/css" viewBox="0 0 200 200" height="200" preserveAspectRatio="xMidYMid meet"
							xmlns="http://www.w3.org/2000/svg" version="1.0">
							<svg:rect x="278" y="234" width="127" style="stroke:#000000;fill:#f8f8f8;fill-opacity:0;"
								rx="8.0" height="69" id="smnStateMachine0" />
							<svg:rect x="278" y="234" width="127" style="stroke:#000000;fill:#f8f8f8;fill-opacity:0;"
								rx="8.0" height="69" id="smnStateMachine1" />
							<svg:rect x="278" y="234" transform="matrix( 0.3828125, 0, 0, 0.5, 171.26953125, 116.75)"
								width="127" style="stroke:#000000;fill:#f8f8f8;fill-opacity:0;" rx="8.0" height="69" id="smnStateMachine2" />
							<svg:rect x="278" y="234" transform="matrix( 0.3828125, 0, 0, 0.5, 171.26953125, 116.75)"
								width="127" style="stroke:#000000;fill:#f8f8f8;fill-opacity:0;" rx="8.0" height="69" id="smnStateMachine3" />
							<svg:rect x="9" y="22" transform="matrix( 2.0000000527295474, 0, 0, 2.2280701754385963, -6.5000004482011775, -32.40350877192981)"
								width="82" style="stroke:#000000;fill:white;fill-opacity:0;" rx="9.0" height="56" />
							<svg:circle transform="matrix( -0.7200000000000001, -0, -0, -0.68, 303.9599959470726, 194.15999310712277)"
								style="fill:#000000;" r="12.5" cx="180.5" cy="174.5" id="smnStateMachine4" />
							<svg:circle transform="matrix( 1, 0, 0, 1, 115, 54)" style="fill:#000000;" r="0" cx="29" cy="34"
								id="smnStateMachine5" />
							<svg:circle transform="matrix( 0.6744185701513258, 0, 0, 0.6511627355148661, 137.5813964700819, 39.03488527482219)"
								style="stroke:#000000;fill:white;fill-opacity:0;" r="21" cx="54" cy="56" id="smnStateMachine6" />
						</svg:svg>
					</svg_shape>
					<repo_info>
						<html:html xmlns:html="http://www.w3.org/html/">
							<html:b>
								<html:text_from_repo name="name" />
							</html:b>
						</html:html>
					</repo_info>
				</view>
			</graphics>
			<logic>
				<generalizations>
					<generalization>
						<parent parent_id="bbnBehavior"></parent>
					</generalization>
				</generalizations>
				<containers>
					<container>
						<contains idref="smnRegion" role="stateMachine"></contains>
					</container>
				</containers>
			</logic>
		</node>
		<node id="smVertex" name="Vertex">
			<logic>
				<generalizations>
					<generalization>
						<parent parent_id="krnnNamedElement"></parent>
					</generalization>
				</generalizations>
				<containers>
					<container>
						<contained_by idref="smRegion" role="subvertex"></contained_by>
					</container>
				</containers>
				<associations>
					<assoc_ref idref="smaTransitionSource"></assoc_ref>
					<assoc_ref idref="smaTransitionTarget"></assoc_ref>
				</associations>
			</logic>
		</node>
		<node id="smnState" name="State">
			<graphics>
				<view>
					<description>simple state</description>
					<svg_shape>
						<svg:svg contentScriptType="text/ecmascript" width="100.0px" xmlns:xlink="http://www.w3.org/1999/xlink"
							zoomAndPan="magnify" contentStyleType="text/css" viewBox="0 0 100.0 100.0" height="100.0px"
							preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" version="1.0">
							<svg:rect x="278" y="234" width="127" style="stroke:#000000;fill:#f8f8f8;fill-opacity:0;"
								rx="8.0" height="69" id="smnState0" />
							<svg:rect x="278" y="234" width="127" style="stroke:#000000;fill:#f8f8f8;fill-opacity:0;"
								rx="8.0" height="69" id="smnState1" />
							<svg:rect x="278" y="234" transform="matrix( 0.3828125, 0, 0, 0.5, 171.26953125, 116.75)"
								width="127" style="stroke:#000000;fill:#f8f8f8;fill-opacity:0;" rx="8.0" height="69" id="smnState2" />
							<svg:rect x="278" y="234" transform="matrix( 0.3828125, 0, 0, 0.5, 171.26953125, 116.75)"
								width="127" style="stroke:#000000;fill:#f8f8f8;fill-opacity:0;" rx="8.0" height="69" id="smnState3" />
							<svg:rect x="9" y="22" width="82" style="stroke:#000000;fill:white;fill-opacity:0;" rx="9.0"
								height="56" />
						</svg:svg>
					</svg_shape>
					<repo_info>
						<html:html xmlns:html="http://www.w3.org/html/">
							<html:b>
								<html:text_from_repo name="name" />
							</html:b>
						</html:html>
					</repo_info>
				</view>
			</graphics>
			<logic>
				<generalizations>
					<generalization>
						<parent parent_id="krnnNamespace"></parent>
					</generalization>
					<generalization>
						<parent parent_id="smVertex"></parent>
					</generalization>
				</generalizations>
				<containers>
					<container>
						<contains idref="smnRegion" role="state"></contains>
					</container>
				</containers>
			</logic>
		</node>
		<edge id="smeTransition" name="Transition">
			<graphics>
				<view>
					<svg_shape>
						<svg:svg width="30" height="30" version="1.1" xmlns:svg="http://www.w3.org/2000/svg">
							<svg:line x1="0" y1="0" x2="300" y2="300" style="stroke:rgb(99,99,99);stroke-width:2" />
						</svg:svg>
					</svg_shape>
					<repo_info>
						<html:html xmlns:html="http://www.w3.org/html/">
							<html:b>
								<html:text_from_repo name="name" />
							</html:b>
						</html:html>
					</repo_info>
				</view>
			</graphics>
			<logic>
				<properties>
					<property name="kind" type="enum">
						<enum idref="smtTransitionkind" />
					</property>
				</properties>
				<generalizations>
					<generalization>
						<parent parent_id="krnnNamespace"></parent>
					</generalization>
				</generalizations>
				<containers>
					<container>
						<contained_by idref="smnRegion" role="transition"></contained_by>
					</container>
				</containers>
				<associations>
					<association id="smaTransitionSource" role="source">
						<begin idref="smVertex"></begin>
					</association>
					<association id="smaTransitionTarget" role="target">
						<begin idref="smVertex"></begin>
					</association>
				</associations>
			</logic>
		</edge>
		<node id="smnRegion" name="Region">
			<graphics>
				<view>
					<svg_shape>
						<svg:svg contentScriptType="text/ecmascript" width="200" xmlns:xlink="http://www.w3.org/1999/xlink"
							zoomAndPan="magnify" contentStyleType="text/css" height="200" viewBox="0 0 200 200" preserveAspectRatio="xMidYMid meet"
							xmlns="http://www.w3.org/2000/svg" version="1.0">
							<svg:rect x="278" y="234" width="127" style="stroke:#000000;fill:#f8f8f8;fill-opacity:0;"
								rx="8.0" id="0" height="69" />
							<svg:rect x="278" y="234" width="127" style="stroke:#000000;fill:#f8f8f8;fill-opacity:0;"
								rx="8.0" id="1" height="69" />
							<svg:rect x="278" y="234" transform="matrix( 0.3828125, 0, 0, 0.5, 171.26953125, 116.75)"
								width="127" style="stroke:#000000;fill:#f8f8f8;fill-opacity:0;" rx="8.0" id="2" height="69" />
							<svg:rect x="278" y="234" transform="matrix( 0.3828125, 0, 0, 0.5, 171.26953125, 116.75)"
								width="127" style="stroke:#000000;fill:#f8f8f8;fill-opacity:0;" rx="8.0" id="3" height="69" />
							<svg:rect x="9" y="22" transform="matrix( 1.5542168674698795, 0, 0, 1.5964912280701755, 30.289156626506013, 31.175438596491233)"
								width="82" style="stroke:#000000;fill:white;fill-opacity:0;" rx="9.0" height="56" />
							<svg:polyline style="stroke:black;fill:none;" points="59,65 59,45 96,45 96,66 " />
							<svg:text x="67" y="54" style="font-size:12pt;fill:#000000;" transform="matrix( 1, 0, 0, 1, 4, 6)">S</text>
						</svg:svg>
					</svg_shape>
				</view>
			</graphics>
			<logic>
				<generalizations>
					<generalization>
						<parent parent_id="krnnNamespace"></parent>
					</generalization>
				</generalizations>
				<containers>
					<container>
						<contains idref="smeTransition" role="container"></contains>
					</container>
					<container>
						<contained_by idref="smnState" role="region"></contained_by>
					</container>
					<container>
						<contained_by idref="smnStateMachine" role="region"></contained_by>
					</container>
				</containers>
			</logic>
		</node>
		<node id="smnFinalState" name="FinalState">
			<graphics>
				<view>
					<svg_shape>
						<svg:svg contentScriptType="text/ecmascript" width="100.0px" xmlns:xlink="http://www.w3.org/1999/xlink"
							zoomAndPan="magnify" contentStyleType="text/css" viewBox="0 0 100.0 100.0" height="100.0px"
							preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" version="1.0">
							<svg:circle transform="matrix( -1.2000000000000002, -0, -0, -1.2000000000000002, 263.599993245121, 260.3999995045848)"
								style="fill:#000000;" r="12.5" cx="180.5" cy="174.5" id="smnFinalState0" />
							<svg:circle r="0" style="fill:#000000;" cx="29" transform="matrix( 1, 0, 0, 1, -8, -4)" cy="34" />
							<svg:circle r="21" style="stroke:#000000;fill:white;fill-opacity:0;" cx="54" transform="matrix( 1.1395348837209303, 0, 0, 1.1162790697674418, -14.534883720930239, -12.011627906976742)"
								cy="56" />
						</svg:svg>
					</svg_shape>
					<repo_info>
						<html:html xmlns:html="http://www.w3.org/html/">
							<html:b>
								<html:text_from_repo name="name" />
							</html:b>
						</html:html>
					</repo_info>
				</view>
			</graphics>
			<logic>
				<generalizations>
					<generalization>
						<parent parent_id="smnState"></parent>
					</generalization>
				</generalizations>
			</logic>
		</node>
		<node id="smPseudoState" name="PseudoState">
			<logic>
				<generalizations>
					<generalization>
						<parent parent_id="smVertex"></parent>
					</generalization>
				</generalizations>
			</logic>
		</node>
		<node id="smInitialPS" name="InitialPseudoState">
			<graphics>
				<view>
					<svg_shape>
						<svg:svg contentScriptType="text/ecmascript" width="100.0px" xmlns:xlink="http://www.w3.org/1999/xlink" zoomAndPan="magnify" contentStyleType="text/css" height="100.0px" viewBox="0 0 100.0 100.0" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" version="1.0">
							<svg:circle transform="matrix( -1.2000000000000002, 0, 0, -1.2000000000000002, 263.599993245121, 260.3999995045848)" style="fill:#000000;" r="12.5" cx="180.5" id="smInitialPS0" cy="174.5"/>
							<svg:circle r="0" style="fill:#000000;" cx="29" cy="34" transform="matrix( 1, 0, 0, 1, -8, -4)"/>
						</svg:svg>
					</svg_shape>
				</view>
			</graphics>
			<logic>
				<generalizations>
					<generalization>
						<parent parent_id="smPseudostate"></parent>
					</generalization>
				</generalizations>
			</logic>
		</node>
		<node id="smDeepHistoryPS" name="DeepHistoryPseudoState">
			<graphics>
				<view>
					<svg_shape>
						<svg:svg svg contentScriptType="text/ecmascript" width="100.0px" xmlns:xlink="http://www.w3.org/1999/xlink" zoomAndPan="magnify" contentStyleType="text/css" height="100.0px" viewBox="0 0 100.0 100.0" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" version="1.0">
							<svg:circle r="0" style="fill:#000000;" cx="29" cy="34" transform="matrix( 1, 0, 0, 1, -8, -4)"/>
							<svg:circle r="21" style="stroke:#000000;fill:white;fill-opacity:0;" cx="54" cy="56" transform="matrix( -1.0192313738986924, -0.509614714934192, 0.4992144146294125, -0.9984307336150458, 76.08248591692136, 129.9313039958967)"/>
							<svg:text x="40" y="48" style="font-size:12pt;fill:#000000;" transform="matrix( 1, 0, 0, 1, 3, 6)">H*</text>
						</svg:svg>
					</svg_shape>
				</view>
			</graphics>
			<logic>
				<generalizations>
					<generalization>
						<parent parent_id="smPseudostate"></parent>
					</generalization>
				</generalizations>
			</logic>
		</node>
		<node id="smShallowHistoryPS" name="ShallowHistoryPseudoState">
			<graphics>
				<view>
					<svg_shape>
						<svg:svg svg contentScriptType="text/ecmascript" width="100.0px" xmlns:xlink="http://www.w3.org/1999/xlink" zoomAndPan="magnify" contentStyleType="text/css" height="100.0px" viewBox="0 0 100.0 100.0" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" version="1.0">
							<svg:circle r="0" style="fill:#000000;" cx="29" cy="34" transform="matrix( 1, 0, 0, 1, -8, -4)"/>
							<svg:circle r="21" style="stroke:#000000;fill:white;fill-opacity:0;" cx="54" cy="56" transform="matrix( -1.0192313738986924, -0.509614714934192, 0.4992144146294125, -0.9984307336150458, 76.08248591692136, 129.9313039958967)"/>
							<svg:text x="40" y="48" style="font-size:12pt;fill:#000000;" transform="matrix( 1, 0, 0, 1, 3, 6)">H</text>
						</svg:svg>
					</svg_shape>
				</view>
			</graphics>
			<logic>
				<generalizations>
					<generalization>
						<parent parent_id="smPseudostate"></parent>
					</generalization>
				</generalizations>
			</logic>
		</node>
		<node id="smJoinPS" name="InitialPS">
			<graphics>
				<view>
					<svg_shape>
						<svg:svg contentScriptType="text/ecmascript" width="50" xmlns:xlink="http://www.w3.org/1999/xlink" zoomAndPan="magnify" contentStyleType="text/css" viewBox="0 0 50 8" height="8" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" version="1.0">
							<svg:circle r="0" style="fill:#000000;" cx="29" transform="matrix( 1, 0, 0, 1, -8, -4)" cy="34"/>
							<svg:line transform="matrix( 3.035131770209866, 0, 0, 0.0404508294094548, -46.68613354052683, 1.0073293110587969)" x1="31.8" x2="15.8" y1="52.5" y2="65.8" style="stroke-width:168.0;stroke:#000000;" id="smJoinPS0"/>
						</svg:svg>
					</svg_shape>
				</view>
			</graphics>
			<logic>
				<generalizations>
					<generalization>
						<parent parent_id="smPseudostate"></parent>
					</generalization>
				</generalizations>
			</logic>
		</node>
		<node id="smForkPS" name="InitialPS">
			<graphics>
				<view>
					<svg_shape>
						<svg:svg contentScriptType="text/ecmascript" width="50" xmlns:xlink="http://www.w3.org/1999/xlink" zoomAndPan="magnify" contentStyleType="text/css" viewBox="0 0 50 8" height="8" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" version="1.0">
							<svg:circle r="0" style="fill:#000000;" cx="29" transform="matrix( 1, 0, 0, 1, -8, -4)" cy="34"/>
							<svg:line transform="matrix( 3.035131770209866, 0, 0, 0.0404508294094548, -46.68613354052683, 1.0073293110587969)" x1="31.8" x2="15.8" y1="52.5" y2="65.8" style="stroke-width:168.0;stroke:#000000;" id="smForkPS0"/>
						</svg:svg>
					</svg_shape>
				</view>
			</graphics>
			<logic>
				<generalizations>
					<generalization>
						<parent parent_id="smPseudostate"></parent>
					</generalization>
				</generalizations>
			</logic>
		</node>
		<node id="smJunctionPS" name="JunctionPseudoState">
			<graphics>
				<view>
					<svg_shape>
						<svg:svg contentScriptType="text/ecmascript" width="100.0px" xmlns:xlink="http://www.w3.org/1999/xlink" zoomAndPan="magnify" contentStyleType="text/css" height="100.0px" viewBox="0 0 100.0 100.0" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" version="1.0">
							<svg:circle transform="matrix( -1.2000000000000002, 0, 0, -1.2000000000000002, 263.599993245121, 260.3999995045848)" style="fill:#000000;" r="12.5" cx="180.5" id="smJunctionPS0" cy="174.5"/>
							<svg:circle r="0" style="fill:#000000;" cx="29" cy="34" transform="matrix( 1, 0, 0, 1, -8, -4)"/>
						</svg:svg>
					</svg_shape>
				</view>
			</graphics>
			<logic>
				<generalizations>
					<generalization>
						<parent parent_id="smPseudostate"></parent>
					</generalization>
				</generalizations>
			</logic>
		</node>
		<node id="smChoicePS" name="InitialPS">
			<graphics>
				<view>
					<svg_shape>
						<svg:svg contentScriptType="text/ecmascript" width="100.0px" xmlns:xlink="http://www.w3.org/1999/xlink" zoomAndPan="magnify" contentStyleType="text/css" viewBox="0 0 100.0 100.0" height="100.0px" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" version="1.0">
							<svg:polyline style="stroke:#000000;fill:none;" transform="matrix( 0.9058869550625863, 0, 0, 0.9187018646804597, 5.005430630677977, 3.7339212549605696)" points="50,32 99.3,51.3 49.3,68 0,50 51.3,32 "/>
						</svg:svg>
					</svg_shape>
				</view>
			</graphics>
			<logic>
				<generalizations>
					<generalization>
						<parent parent_id="smPseudostate"></parent>
					</generalization>
				</generalizations>
			</logic>
		</node>
		<node id="smEntryPoint" name="EntryPoint">
			<graphics>
				<view>
					<svg_shape>
						<svg:svg contentScriptType="text/ecmascript" width="100.0px" xmlns:xlink="http://www.w3.org/1999/xlink" zoomAndPan="magnify" contentStyleType="text/css" height="100.0px" viewBox="0 0 100.0 100.0" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" version="1.0">
							<svg:circle r="0" style="fill:#000000;" cx="29" cy="34" transform="matrix( 1, 0, 0, 1, -8, -4)"/>
							<svg:circle r="21" style="stroke:#000000;fill:white;fill-opacity:0;" cx="54" cy="56" transform="matrix( 0.0339783125977492, -0.5230087221721624, 0.5450349364728834, 0.0312879214469982, 37.64321340667303, 60.99033749049183)"/>
							<svg:text x="6" y="52" style="font-size:12pt;fill:#000000;" transform="matrix( 1, 0, 0, 1, 7, -1)">again</text>
						</svg:svg>
					</svg_shape>
				</view>
			</graphics>
			<logic>
				<generalizations>
					<generalization>
						<parent parent_id="smPseudostate"></parent>
					</generalization>
				</generalizations>
			</logic>
		</node>
		<node id="smExitPoint" name="ExitPoint">
			<graphics>
				<view>
					<svg_shape>
						<svg:svg contentScriptType="text/ecmascript" width="100.0px" xmlns:xlink="http://www.w3.org/1999/xlink" zoomAndPan="magnify" contentStyleType="text/css" height="100.0px" viewBox="0 0 100.0 100.0" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" version="1.0">
							<svg:circle r="0" style="fill:#000000;" cx="29" cy="34" transform="matrix( 1, 0, 0, 1, -8, -4)"/>
							<svg:circle r="21" style="stroke:#000000;fill:white;fill-opacity:0;" cx="54" cy="56" transform="matrix( 0.0339783125977492, -0.5010656161493942, 0.5450349364728834, 0.0299752202463526, -8.356786593326973, 85.6289208079099)"/>
							<svg:text x="6" y="52" style="font-size:12pt;fill:#000000;" transform="matrix( 1, 0, 0, 1, 30.000000000000007, -5)">aborted</text>
							<svg:line transform="matrix( 0.9850363086882384, 0, 0, 1, 2.204201208858754, -2)" x1="14" x2="30" y1="54" y2="70" style="stroke:#000000;"/>
							<svg:line transform="matrix( 0.9699503375405735, 0, 0, 1.1776942779133153, 0.9651819436082785, -9.260616719283227)" x1="31.8" x2="15.8" y1="52.5" style="stroke:#000000;" y2="65.8" id="smExitPoint0"/>
						</svg:svg>
					</svg_shape>
				</view>
			</graphics>
			<logic>
				<generalizations>
					<generalization>
						<parent parent_id="smPseudostate"></parent>
					</generalization>
				</generalizations>
			</logic>
		</node>
		<node id="smTerminateNode" name="TerminateNode">
			<graphics>
				<view>
					<svg_shape>
						<svg:svg contentScriptType="text/ecmascript" width="100.0px" xmlns:xlink="http://www.w3.org/1999/xlink" zoomAndPan="magnify" contentStyleType="text/css" viewBox="0 0 100.0 100.0" height="100.0px" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" version="1.0">
							<svg:circle r="0" style="fill:#000000;" cx="29" transform="matrix( 1, 0, 0, 1, -8, -4)" cy="34"/>
							<svg:line transform="matrix( 2.6609697356055295, 0, 0, 2.7357881921643377, -9.66633418332165, -117.11886804817236)" x1="14" x2="30" y1="54" style="stroke:#000000;" y2="70"/>
							<svg:line transform="matrix( 2.893128773953586, 0, 0, 2.9546371662005972, -16.8064624021217, -121.86678769804318)" x1="31.8" x2="15.8" y1="52.5" y2="65.8" style="stroke:#000000;" id="smTerminateNode0"/>
						</svg:svg>
					</svg_shape>
				</view>
			</graphics>
			<logic>
				<generalizations>
					<generalization>
						<parent parent_id="smPseudostate"></parent>
					</generalization>
				</generalizations>
			</logic>
		</node>
		<node id="smTimeEvent" name="TimeEvent"></node>
	</diagram>
</metamodel>
